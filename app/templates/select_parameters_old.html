{% extends "base.html" %}

{% block title %}Select Parameters{% endblock %}

{% block head %}
<script>
    function updateValue(sliderId, valueId) {
        var slider = document.getElementById(sliderId);
        var value = document.getElementById(valueId);
        value.innerHTML = slider.value;
    }
</script>
{% endblock %}

{% block content %}
<h1>Select Parameters</h1>
<form method="POST">
    {% for param, details in parameters.items() %}
        <div class="form-group">
            <label for="{{ param }}">{{ param | capitalize }}</label>
            <input type="range" class="form-control-range" id="{{ param }}" name="{{ param }}"
                   min="{{ details.min_value }}" max="{{ details.max_value }}" 
                   step="{% if details.type == 'float' %}0.01{% else %}1{% endif %}" 
                   value="{{ details.default }}"
                   oninput="updateValue('{{ param }}', '{{ param }}_value')">
            <div class="d-flex justify-content-between">
                <small class="form-text text-muted">Min: {{ details.min_value }}</small>
                <small class="form-text text-muted">Max: {{ details.max_value }}</small>
            </div>
            <small class="form-text text-muted">Default: {{ details.default }}</small>
            <div>
                <small class="form-text text-muted">Current Value: <span id="{{ param }}_value">{{ details.default }}</span></small>
            </div>
        </div>
    {% endfor %}
    <button type="submit" class="btn btn-success">Send Prompt</button>
</form>
{% endblock %}